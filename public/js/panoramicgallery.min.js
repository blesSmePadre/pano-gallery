"use strict";var createGallery=function(a){var b=function(){return $(".lg-outer").hasClass("lg-fullscreen-on")},c=function(){b()&&$(".panorama-fullscreen").toggleClass("panorama-fullscreen-active"),$("#panorama").css({"z-index":"1065"}),$("#panorama").animate({opacity:1},{duration:1e3})},d=function(){$("#panorama").animate({opacity:0},{duration:1e3,complete:function(){$(this).css({"z-index":"1045"})}})},e=function(a){if(a){var b=a,c=b.getContext("2d"),d=b.height,e=b.width,f=[d/2,e/2];c.clearRect(0,0,e,d);var g=45;c.beginPath(),c.arc(f[0],f[1],g,0,2*Math.PI,!1),c.strokeStyle="#ffffff",c.lineWidth=5,c.stroke(),c.closePath(),c.beginPath();var g=30;c.arc(f[0],f[1],g,0,2*Math.PI,!1),c.closePath(),c.strokeStyle="#ffffff",c.lineWidth=3,c.stroke(),c.closePath(),c.beginPath();var g=15;c.arc(f[0],f[1],g,0,2*Math.PI,!1),c.closePath(),c.strokeStyle="#ffffff",c.lineWidth=3,c.stroke(),c.closePath(),c.beginPath();var g=5;c.arc(f[0],f[1],g,0,2*Math.PI,!1),c.closePath(),c.fillStyle="#ffffff",c.fill(),c.closePath()}},f=function(a,b){$("[data-element-translate-key]").each(function(b,c){var d=$(c);d.text(g[a][d.data("elementTranslateKey")])})},g={en:{"panorama-button-in":"Enter","panorama-button-out":"Exit"},ru:{"panorama-button-in":"Вход","panorama-button-out":"Выход"},de:{"panorama-button-in":"Eingang","panorama-button-out":"Ausgang"},hu:{"panorama-button-in":"Belépés","panorama-button-out":"Kilépés"},fr:{"panorama-button-in":"Entrée","panorama-button-out":"Sortie"},nl:{"panorama-button-in":"Naar binnenzijde","panorama-button-out":"Naar buitenzijde"},dk:{"panorama-button-in":"Kom ind","panorama-button-out":"Kom ud"},pt:{"panorama-button-in":"Entrar","panorama-button-out":"Sair"},es:{"panorama-button-in":"Entrar","panorama-button-out":"Salir"},ro:{"panorama-button-in":"Intrare","panorama-button-out":"Iesire"}},h=function(a){return'<div class="gallery-thumbpanel">\n\t            <div class="gallery-thumbsgroup">\n\t              <div class="gallery-thumbitem" data-slide-number="0">\n\t                <img src="'+a[0]+'"/>\n\t              </div>\n\t              <div class="gallery-thumbitem" data-slide-number="1">\n\t                <img src="'+a[1]+'"/>\n\t              </div>\n\t              <div class="gallery-thumbitem" data-slide-number="2">\n\t                <img src="'+a[2]+'"/>\n\t              </div>\n\t              <div class="gallery-thumbitem" data-slide-number="3">\n\t                <img src="'+a[3]+'"/>\n\t              </div>\n\t              <div class="gallery-thumbitem panorama-item">\n\t                <img src="'+a[4]+'"/>\n\t              </div>\n\t              <div class="gallery-thumbitem" data-slide-number="4">\n\t                <img src="'+a[5]+'"/>\n\t              </div>\n\t              <div class="gallery-thumbitem" data-slide-number="5">\n\t                <img src="'+a[6]+'"/>\n\t              </div>\n\t              <div class="gallery-thumbitem" data-slide-number="6">\n\t                <img src="'+a[7]+'"/>\n\t              </div>\n\t              <div class="gallery-thumbitem" data-slide-number="7">\n\t                <img src="'+a[8]+'"/>\n\t              </div>\n\t              <span class="gallery-toggle-thumbpanel lg-icon"></span>\n\t            </div>\n\t          </div>'},i=function(a){return'<div class="language-dropdown">\n\t    <span class="language-dropdown-open language-dropdown-flag-'+a+'"></span>\n\t    <div class="language-dropdown-content">\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-ru" data-language="ru"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-de" data-language="de"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-en" data-language="en"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-hu" data-language="hu"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-nl" data-language="nl"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-pt" data-language="pt"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-ro" data-language="ro"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-es" data-language="es"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-dk" data-language="dk"></a>\n\t      <a href="#" class="language-dropdown-item language-dropdown-flag-fr" data-language="fr"></a>\n\t    </div>\n\t  </div>'},j=function(a){return'<div id="panorama">\n\t        <div class="lg-toolbar lg-group panorama-toolbar">\n\t\t\t\t\t\t<span class="lg-icon panorama-close"></span>\n\t          <span class="lg-icon panorama-fullscreen panorama-fullscreen-disabled"></span>\n\t          <span class="lg-icon panorama-zoom-in"></span>\n\t          <span class="lg-icon panorama-zoom-out"></span>\n\t          '+i(a)+"\n\t        </div>\n\t    </div>"},k="",l=-1,m=function(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}}("lang");m||(m="en");var n=[];if(null===(n=["public/img/test/1.jpg","public/img/test/2.jpg","public/img/test/3.jpg","public/img/test/4.jpg","public/img/test/5.jpg","public/img/test/6.jpg","public/img/test/7.jpg","public/img/test/8.jpg","public/img/test/9.jpg"])||0===n.length)throw new Error("Error. Set of images is empty");$("body").prepend(function(a){return'<div id="lightgallery">\n\t    <a href="'+a[0]+'" data-html="<div id=\'test\'></div>">\n\t      <img src="'+a[0]+'" />\n\t    </a>\n\t    <a href="'+a[1]+'">\n\t      <img src="'+a[1]+'" />\n\t    </a>\n\t    <a href="'+a[2]+'">\n\t      <img src="'+a[2]+'" />\n\t    </a>\n\t    <a href="'+a[3]+'"\n\t      data-panorama-src="'+a[4]+'">\n\t      <img src="'+a[3]+'" data-custom-item="true"/>\n\t    </a>\n\t    <a href="'+a[5]+'">\n\t      <img src="'+a[5]+'" />\n\t    </a>\n\t    <a href="'+a[6]+'">\n\t      <img src="'+a[6]+'" />\n\t    </a>\n\t    <a href="'+a[7]+'">\n\t      <img src="'+a[7]+'" />\n\t    </a>\n\t    <a href="'+a[8]+'">\n\t      <img src="'+a[8]+'" />\n\t    </a>\n\t  </div>'}(n));$("#lightgallery").lightGallery({autoplay:!1,mousewheel:!1,download:!1,showAfterLoad:!0,closable:!1,counter:!1,scale:.1,hideBarsDelay:6e5,enableDrag:!1,mode:"lg-fade",speed:700});$("#lightgallery").on("onAfterOpen.lg",function(){$(".lg .lg-toolbar").append(i(m)),$(".lg-outer").mousewheel(function(a){a.deltaY>0?$("#lg-zoom-in").click():$("#lg-zoom-out").click()});var a=$("#lightgallery").find("a[data-panorama-src]");if(0!=a.length&&a.attr("data-panorama-src")&&(k=a.attr("data-panorama-src"),l=a.index()+1),k){$("#lightgallery").after(j(m));var b=pannellum.viewer("panorama",{type:"equirectangular",panorama:k,autoLoad:!0,showControls:!1,hotSpots:[{pitch:0,yaw:180,cssClass:"panorama-button",scene:"scene",createTooltipFunc:function(a,b){$(a).append("\n              \t\t<canvas class='panorama-button' id='circleButtonOut' height='100' width='100'></canvas>\n  \t\t\t\t\t\t\t\t<span class='panorama-button-title' data-element-translate-key='panorama-button-out'></span>\n\t\t\t\t\t\t\t\t"),e(document.querySelector("#circleButtonOut")),f(m),$("#circleButtonOut").click(function(){d()})}}]});$(".panorama-zoom-in").click(function(){b.setHfov(b.getHfov()-20)}),$(".panorama-zoom-out").click(function(){b.setHfov(b.getHfov()+20)}),$(".panorama-fullscreen").click(function(){$(".lg-fullscreen").click(),$(".panorama-fullscreen").toggleClass("panorama-fullscreen-active")}),$(".panorama-close").click(function(){d()})}$(".language-dropdown-open").click(function(a){$(a.target).next().toggleClass("language-dropdown-opened")}),$(".language-dropdown-item").click(function(a){m=$(a.target).data("language"),$(".language-dropdown-open").attr("class","language-dropdown-open language-dropdown-flag-"+m),f(m)}),$("div.lg").append(h(n)),$(".gallery-thumbitem").first().addClass("gallery-thumbitem-active"),$(".gallery-toggle-thumbpanel").click(function(a){$(".gallery-thumbpanel").toggleClass("gallery-thumbpanel-collapse")}),$(".gallery-thumbitem").click(function(a){var b=$(a.currentTarget);if(b.hasClass("panorama-item"))c();else{var d=b.data("slideNumber");$(".lg-thumb-item:nth-child("+(d+1)+")").click()}})}),$("#lightgallery").on("onBeforeSlide.lg",function(a,b,c){$(".panorama-button-in").animate({opacity:0},{duration:10,complete:function(){$(".panorama-button-in").remove()}}),$(".gallery-thumbitem").removeClass("gallery-thumbitem-active"),$(".gallery-thumbsgroup").find("[data-slide-number="+c+"]").addClass("gallery-thumbitem-active")}),$("#lightgallery").on("onAfterAppendSubHtml.lg",function(a,b){if(k&&3===b)var d=setInterval(function(){$(".lg-current .lg-img-wrap").length&&(clearInterval(d),$(".lg-current .lg-img-wrap").append("<div class='panorama-button panorama-button-in custom-subitem'>\n\t\t\t\t      \t\t<canvas id='circleButtonIn' height='100' width='100'></canvas>\n\t\t\t\t      \t\t<span class='panorama-button-title' data-element-translate-key='panorama-button-in'></span>\n\t\t\t\t      \t</div>"),e(document.querySelector("#circleButtonIn")),f(m),$("#circleButtonIn").click(function(){c()}),$(".panorama-button-in").animate({opacity:1},{duration:100,complete:function(){}}))},100)}),$("#lightgallery").on("onBeforeClose.lg",function(){k&&$("#panorama").remove()}),$(window).click(function(a){$(a.target).hasClass("language-dropdown-open")||$(".language-dropdown-content").each(function(a,b){var c=$(b);c.hasClass("language-dropdown-opened")&&c.removeClass("language-dropdown-opened")})}),$("#lightgallery a:first-child").click()};window.panoramicgallery={createGallery:createGallery},function(){function a(a,c){if(this.el=a,this.$el=$(a),this.s=$.extend({},b,c),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=$(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find($(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var b={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};a.prototype.init=function(){var a=this;a.s.preload>a.$items.length&&(a.s.preload=a.$items.length);var b=window.location.hash;b.indexOf("lg="+this.s.galleryId)>0&&(a.index=parseInt(b.split("&slide=")[1],10),$("body").addClass("lg-from-hash"),$("body").hasClass("lg-on")||(setTimeout(function(){a.build(a.index)}),$("body").addClass("lg-on"))),a.s.dynamic?(a.$el.trigger("onBeforeOpen.lg"),a.index=a.s.index||0,$("body").hasClass("lg-on")||setTimeout(function(){a.build(a.index),$("body").addClass("lg-on")})):a.$items.on("click.lgcustom",function(b){try{b.preventDefault(),b.preventDefault()}catch(a){b.returnValue=!1}a.$el.trigger("onBeforeOpen.lg"),a.index=a.s.index||a.$items.index(this),$("body").hasClass("lg-on")||(a.build(a.index),$("body").addClass("lg-on"))})},a.prototype.build=function(a){var b=this;b.structure(),$.each($.fn.lightGallery.modules,function(a){b.modules[a]=new $.fn.lightGallery.modules[a](b.el)}),b.slide(a,!1,!1,!1),b.s.keyPress&&b.keyPress(),b.$items.length>1&&(b.arrow(),setTimeout(function(){b.enableDrag(),b.enableSwipe()},50),b.s.mousewheel&&b.mousewheel()),b.counter(),b.closeGallery(),b.$el.trigger("onAfterOpen.lg"),b.$outer.on("mousemove.lg click.lg touchstart.lg",function(){b.$outer.removeClass("lg-hide-items"),clearTimeout(b.hideBartimeout),b.hideBartimeout=setTimeout(function(){b.$outer.addClass("lg-hide-items")},b.s.hideBarsDelay)}),b.$outer.trigger("mousemove.lg")},a.prototype.structure=function(){var a,b="",c="",d=0,e="",f=this;for($("body").append('<div class="lg-backdrop"></div>'),$(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),d=0;d<this.$items.length;d++)b+='<div class="lg-item"></div>';if(this.s.controls&&this.$items.length>1&&(c='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(e='<div class="lg-sub-html"></div>'),a='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+b+'</div><div class="lg-toolbar lg-group"><span class="lg-close lg-icon"></span></div>'+c+e+"</div></div>",$("body").append(a),this.$outer=$(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),f.setTop(),$(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){f.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var g=this.$outer.find(".lg-inner");g.css("transition-timing-function",this.s.cssEasing),g.css("transition-duration",this.s.speed+"ms")}setTimeout(function(){$(".lg-backdrop").addClass("in")}),setTimeout(function(){f.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=$(window).scrollTop()},a.prototype.setTop=function(){if("100%"!==this.s.height){var a=$(window).height(),b=(a-parseInt(this.s.height,10))/2,c=this.$outer.find(".lg");a>=parseInt(this.s.height,10)?c.css("top",b+"px"):c.css("top","0px")}},a.prototype.doCss=function(){return!!function(){var a=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],b=document.documentElement,c=0;for(c=0;c<a.length;c++)if(a[c]in b.style)return!0}()},a.prototype.isVideo=function(a,b){var c;if(c=this.s.dynamic?this.s.dynamicEl[b].html:this.$items.eq(b).attr("data-html"),!a&&c)return{html5:!0};var d=a.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),e=a.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),f=a.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),g=a.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return d?{youtube:d}:e?{vimeo:e}:f?{dailymotion:f}:g?{vk:g}:void 0},a.prototype.counter=function(){this.s.counter&&$(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},a.prototype.addHtml=function(a){var b,c,d=null;if(this.s.dynamic?this.s.dynamicEl[a].subHtmlUrl?b=this.s.dynamicEl[a].subHtmlUrl:d=this.s.dynamicEl[a].subHtml:(c=this.$items.eq(a),c.attr("data-sub-html-url")?b=c.attr("data-sub-html-url"):(d=c.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!d&&(d=c.attr("title")||c.find("img").first().attr("alt")))),!b)if(void 0!==d&&null!==d){var e=d.substring(0,1);"."!==e&&"#"!==e||(d=this.s.subHtmlSelectorRelative&&!this.s.dynamic?c.find(d).html():$(d).html())}else d="";".lg-sub-html"===this.s.appendSubHtmlTo?b?this.$outer.find(this.s.appendSubHtmlTo).load(b):this.$outer.find(this.s.appendSubHtmlTo).html(d):b?this.$slide.eq(a).load(b):this.$slide.eq(a).append(d),void 0!==d&&null!==d&&(""===d?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[a])},a.prototype.preload=function(a){var b=1,c=1;for(b=1;b<=this.s.preload&&!(b>=this.$items.length-a);b++)this.loadContent(a+b,!1,0);for(c=1;c<=this.s.preload&&!(a-c<0);c++)this.loadContent(a-c,!1,0)},a.prototype.loadContent=function(a,b,c){var d,e,f,g,h,i,j=this,k=!1,l=function(a){for(var b=[],c=[],d=0;d<a.length;d++){var f=a[d].split(" ");""===f[0]&&f.splice(0,1),c.push(f[0]),b.push(f[1])}for(var g=$(window).width(),h=0;h<b.length;h++)if(parseInt(b[h],10)>g){e=c[h];break}};if(j.s.dynamic){if(j.s.dynamicEl[a].poster&&(k=!0,f=j.s.dynamicEl[a].poster),i=j.s.dynamicEl[a].html,e=j.s.dynamicEl[a].src,j.s.dynamicEl[a].responsive){l(j.s.dynamicEl[a].responsive.split(","))}g=j.s.dynamicEl[a].srcset,h=j.s.dynamicEl[a].sizes}else{if(j.$items.eq(a).attr("data-poster")&&(k=!0,f=j.$items.eq(a).attr("data-poster")),i=j.$items.eq(a).attr("data-html"),e=j.$items.eq(a).attr("href")||j.$items.eq(a).attr("data-src"),j.$items.eq(a).attr("data-responsive")){l(j.$items.eq(a).attr("data-responsive").split(","))}g=j.$items.eq(a).attr("data-srcset"),h=j.$items.eq(a).attr("data-sizes")}var m=!1;j.s.dynamic?j.s.dynamicEl[a].iframe&&(m=!0):"true"===j.$items.eq(a).attr("data-iframe")&&(m=!0);var n=j.isVideo(e,a);if(!j.$slide.eq(a).hasClass("lg-loaded")){if(m)j.$slide.eq(a).prepend('<div class="lg-video-cont" style="max-width:'+j.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+e+'"  allowfullscreen="true"></iframe></div></div>');else if(k){var o="";o=n&&n.youtube?"lg-has-youtube":n&&n.vimeo?"lg-has-vimeo":"lg-has-html5",j.$slide.eq(a).prepend('<div class="lg-video-cont '+o+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+f+'" /></div></div>')}else n?(j.$slide.eq(a).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),j.$el.trigger("hasVideo.lg",[a,e,i])):j.$slide.eq(a).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+e+'" /></div>');if(j.$el.trigger("onAferAppendSlide.lg",[a]),d=j.$slide.eq(a).find(".lg-object"),h&&d.attr("sizes",h),g){d.attr("srcset",g);try{picturefill({elements:[d[0]]})}catch(a){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&j.addHtml(a),j.$slide.eq(a).addClass("lg-loaded")}j.$slide.eq(a).find(".lg-object").on("load.lg error.lg",function(){var b=0;c&&!$("body").hasClass("lg-from-hash")&&(b=c),setTimeout(function(){j.$slide.eq(a).addClass("lg-complete"),j.$el.trigger("onSlideItemLoad.lg",[a,c||0])},b)}),n&&n.html5&&!k&&j.$slide.eq(a).addClass("lg-complete"),b===!0&&(j.$slide.eq(a).hasClass("lg-complete")?j.preload(a):j.$slide.eq(a).find(".lg-object").on("load.lg error.lg",function(){j.preload(a)}))},a.prototype.slide=function(a,b,c,d){var e=this.$outer.find(".lg-current").index(),f=this;if(!f.lGalleryOn||e!==a){var g=this.$slide.length,h=f.lGalleryOn?this.s.speed:0;if(!f.lgBusy){if(this.s.download){var i;i=f.s.dynamic?f.s.dynamicEl[a].downloadUrl!==!1&&(f.s.dynamicEl[a].downloadUrl||f.s.dynamicEl[a].src):"false"!==f.$items.eq(a).attr("data-download-url")&&(f.$items.eq(a).attr("data-download-url")||f.$items.eq(a).attr("href")||f.$items.eq(a).attr("data-src")),i?($("#lg-download").attr("href",i),f.$outer.removeClass("lg-hide-download")):f.$outer.addClass("lg-hide-download")}if(this.$el.trigger("onBeforeSlide.lg",[e,a,b,c]),f.lgBusy=!0,clearTimeout(f.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){f.addHtml(a)},h),this.arrowDisable(a),d||(a<e?d="prev":a>e&&(d="next")),b){this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");var j,k;g>2?(j=a-1,k=a+1,0===a&&e===g-1?(k=0,j=g-1):a===g-1&&0===e&&(k=0,j=g-1)):(j=0,k=1),"prev"===d?f.$slide.eq(k).addClass("lg-next-slide"):f.$slide.eq(j).addClass("lg-prev-slide"),f.$slide.eq(a).addClass("lg-current")}else f.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===d?(this.$slide.eq(a).addClass("lg-prev-slide"),this.$slide.eq(e).addClass("lg-next-slide")):(this.$slide.eq(a).addClass("lg-next-slide"),this.$slide.eq(e).addClass("lg-prev-slide")),setTimeout(function(){f.$slide.removeClass("lg-current"),f.$slide.eq(a).addClass("lg-current"),f.$outer.removeClass("lg-no-trans")},50);f.lGalleryOn?(setTimeout(function(){f.loadContent(a,!0,0)},this.s.speed+50),setTimeout(function(){f.lgBusy=!1,f.$el.trigger("onAfterSlide.lg",[e,a,b,c])},this.s.speed)):(f.loadContent(a,!0,f.s.backdropDuration),f.lgBusy=!1,f.$el.trigger("onAfterSlide.lg",[e,a,b,c])),f.lGalleryOn=!0,this.s.counter&&$("#lg-counter-current").text(a+1)}}},a.prototype.goToNextSlide=function(a){var b=this,c=b.s.loop;a&&b.$slide.length<3&&(c=!1),b.lgBusy||(b.index+1<b.$slide.length?(b.index++,b.$el.trigger("onBeforeNextSlide.lg",[b.index]),b.slide(b.index,a,!1,"next")):c?(b.index=0,b.$el.trigger("onBeforeNextSlide.lg",[b.index]),b.slide(b.index,a,!1,"next")):b.s.slideEndAnimatoin&&!a&&(b.$outer.addClass("lg-right-end"),setTimeout(function(){b.$outer.removeClass("lg-right-end")},400)))},a.prototype.goToPrevSlide=function(a){var b=this,c=b.s.loop;a&&b.$slide.length<3&&(c=!1),b.lgBusy||(b.index>0?(b.index--,b.$el.trigger("onBeforePrevSlide.lg",[b.index,a]),b.slide(b.index,a,!1,"prev")):c?(b.index=b.$items.length-1,b.$el.trigger("onBeforePrevSlide.lg",[b.index,a]),b.slide(b.index,a,!1,"prev")):b.s.slideEndAnimatoin&&!a&&(b.$outer.addClass("lg-left-end"),setTimeout(function(){b.$outer.removeClass("lg-left-end")},400)))},a.prototype.keyPress=function(){var a=this;this.$items.length>1&&$(window).on("keyup.lg",function(b){a.$items.length>1&&(37===b.keyCode&&(b.preventDefault(),a.goToPrevSlide()),39===b.keyCode&&(b.preventDefault(),a.goToNextSlide()))}),$(window).on("keydown.lg",function(b){a.s.escKey===!0&&27===b.keyCode&&(b.preventDefault(),a.$outer.hasClass("lg-thumb-open")?a.$outer.removeClass("lg-thumb-open"):a.destroy())})},a.prototype.arrow=function(){var a=this;this.$outer.find(".lg-prev").on("click.lg",function(){a.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){a.goToNextSlide()})},a.prototype.arrowDisable=function(a){!this.s.loop&&this.s.hideControlOnEnd&&(a+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),a>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},a.prototype.setTranslate=function(a,b,c){this.s.useLeft?a.css("left",b):a.css({transform:"translate3d("+b+"px, "+c+"px, 0px)"})},a.prototype.touchMove=function(a,b){var c=b-a;Math.abs(c)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),c,0),this.setTranslate($(".lg-prev-slide"),-this.$slide.eq(this.index).width()+c,0),this.setTranslate($(".lg-next-slide"),this.$slide.eq(this.index).width()+c,0))},a.prototype.touchEnd=function(a){var b=this;"lg-slide"!==b.s.mode&&b.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){b.$outer.removeClass("lg-dragging"),a<0&&Math.abs(a)>b.s.swipeThreshold?b.goToNextSlide(!0):a>0&&Math.abs(a)>b.s.swipeThreshold?b.goToPrevSlide(!0):Math.abs(a)<5&&b.$el.trigger("onSlideClick.lg"),b.$slide.removeAttr("style")}),setTimeout(function(){b.$outer.hasClass("lg-dragging")||"lg-slide"===b.s.mode||b.$outer.removeClass("lg-slide")},b.s.speed+100)},a.prototype.enableSwipe=function(){var a=this,b=0,c=0,d=!1;a.s.enableSwipe&&a.isTouch&&a.doCss()&&(a.$slide.on("touchstart.lg",function(c){a.$outer.hasClass("lg-zoomed")||a.lgBusy||(c.preventDefault(),a.manageSwipeClass(),b=c.originalEvent.targetTouches[0].pageX)}),a.$slide.on("touchmove.lg",function(e){a.$outer.hasClass("lg-zoomed")||(e.preventDefault(),c=e.originalEvent.targetTouches[0].pageX,a.touchMove(b,c),d=!0)}),a.$slide.on("touchend.lg",function(){a.$outer.hasClass("lg-zoomed")||(d?(d=!1,a.touchEnd(c-b)):a.$el.trigger("onSlideClick.lg"))}))},a.prototype.enableDrag=function(){var a=this,b=0,c=0,d=!1,e=!1;a.s.enableDrag&&!a.isTouch&&a.doCss()&&(a.$slide.on("mousedown.lg",function(c){a.$outer.hasClass("lg-zoomed")||($(c.target).hasClass("lg-object")||$(c.target).hasClass("lg-video-play"))&&(c.preventDefault(),a.lgBusy||(a.manageSwipeClass(),b=c.pageX,d=!0,a.$outer.scrollLeft+=1,a.$outer.scrollLeft-=1,a.$outer.removeClass("lg-grab").addClass("lg-grabbing"),a.$el.trigger("onDragstart.lg")))}),$(window).on("mousemove.lg",function(f){d&&(e=!0,c=f.pageX,a.touchMove(b,c),a.$el.trigger("onDragmove.lg"))}),$(window).on("mouseup.lg",function(f){e?(e=!1,a.touchEnd(c-b),a.$el.trigger("onDragend.lg")):($(f.target).hasClass("lg-object")||$(f.target).hasClass("lg-video-play"))&&a.$el.trigger("onSlideClick.lg"),d&&(d=!1,a.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},a.prototype.manageSwipeClass=function(){var a=this.index+1,b=this.index-1;this.s.loop&&this.$slide.length>2&&(0===this.index?b=this.$slide.length-1:this.index===this.$slide.length-1&&(a=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),b>-1&&this.$slide.eq(b).addClass("lg-prev-slide"),this.$slide.eq(a).addClass("lg-next-slide")},a.prototype.mousewheel=function(){var a=this;a.$outer.on("mousewheel.lg",function(b){b.deltaY&&(b.deltaY>0?a.goToPrevSlide():a.goToNextSlide(),b.preventDefault())})},a.prototype.closeGallery=function(){var a=this,b=!1;this.$outer.find(".lg-close").on("click.lg",function(){a.destroy()}),a.s.closable&&(a.$outer.on("mousedown.lg",function(a){b=!!($(a.target).is(".lg-outer")||$(a.target).is(".lg-item ")||$(a.target).is(".lg-img-wrap"))}),a.$outer.on("mouseup.lg",function(c){($(c.target).is(".lg-outer")||$(c.target).is(".lg-item ")||$(c.target).is(".lg-img-wrap")&&b)&&(a.$outer.hasClass("lg-dragging")||a.destroy())}))},a.prototype.destroy=function(a){var b=this;a||(b.$el.trigger("onBeforeClose.lg"),$(window).scrollTop(b.prevScrollTop)),a&&(b.s.dynamic||this.$items.off("click.lg click.lgcustom"),$.removeData(b.el,"lightGallery")),this.$el.off(".lg.tm"),$.each($.fn.lightGallery.modules,function(a){b.modules[a]&&b.modules[a].destroy()}),this.lGalleryOn=!1,clearTimeout(b.hideBartimeout),this.hideBartimeout=!1,$(window).off(".lg"),$("body").removeClass("lg-on lg-from-hash"),b.$outer&&b.$outer.removeClass("lg-visible"),$(".lg-backdrop").removeClass("in"),setTimeout(function(){b.$outer&&b.$outer.remove(),$(".lg-backdrop").remove(),a||b.$el.trigger("onCloseAfter.lg")},b.s.backdropDuration+50)},$.fn.lightGallery=function(b){return this.each(function(){if($.data(this,"lightGallery"))try{$(this).data("lightGallery").init()}catch(a){console.error("lightGallery has not initiated properly")}else $.data(this,"lightGallery",new a(this,b))})},$.fn.lightGallery.modules={}}(),function(){var a={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},b=function(b){return this.core=$(b).data("lightGallery"),this.core.s=$.extend({},a,this.core.s),this.$el=$(b),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};b.prototype.init=function(){var a=this;this.core.s.thumbnail&&this.core.$items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){a.core.$outer.addClass("lg-thumb-open")},700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},b.prototype.build=function(){function a(a,b,f){var g,h=c.core.isVideo(a,f)||{},i="";h.youtube||h.vimeo||h.dailymotion?h.youtube?g=c.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+h.youtube[1]+"/"+c.core.s.youtubeThumbSize+".jpg":b:h.vimeo?c.core.s.loadVimeoThumbnail?(g="//i.vimeocdn.com/video/error_"+e+".jpg",i=h.vimeo[1]):g=b:h.dailymotion&&(g=c.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+h.dailymotion[1]:b):g=b,d+='<div data-vimeo-id="'+i+'" class="lg-thumb-item" style="width:'+c.core.s.thumbWidth+"px; margin-right: "+c.core.s.thumbMargin+'px"><img src="'+g+'" /></div>',i=""}var b,c=this,d="",e="";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":e="640";break;case"thumbnail_medium":e="200x150";break;case"thumbnail_small":e="100x75"}if(c.core.$outer.addClass("lg-has-thumb"),c.core.$outer.find(".lg").append('<div class="lg-thumb-outer"><div class="lg-thumb lg-group"></div></div>'),c.$thumbOuter=c.core.$outer.find(".lg-thumb-outer"),c.thumbOuterWidth=c.$thumbOuter.width(),c.core.s.animateThumb&&c.core.$outer.find(".lg-thumb").css({width:c.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&c.$thumbOuter.css("height",c.core.s.thumbContHeight+"px"),c.core.s.dynamic)for(var f=0;f<c.core.s.dynamicEl.length;f++)a(c.core.s.dynamicEl[f].src,c.core.s.dynamicEl[f].thumb,f);else c.core.$items.each(function(b){c.core.s.exThumbImage?a($(this).attr("href")||$(this).attr("data-src"),$(this).attr(c.core.s.exThumbImage),b):a($(this).attr("href")||$(this).attr("data-src"),$(this).find("img").attr("src"),b)});c.core.$outer.find(".lg-thumb").html(d),b=c.core.$outer.find(".lg-thumb-item"),b.each(function(){var a=$(this),b=a.attr("data-vimeo-id");b&&$.getJSON("//www.vimeo.com/api/v2/video/"+b+".json?callback=?",{format:"json"},function(b){a.find("img").attr("src",b[0][c.core.s.vimeoThumbSize])})}),b.eq(c.core.index).addClass("active"),c.core.$el.on("onBeforeSlide.lg.tm",function(){b.removeClass("active"),b.eq(c.core.index).addClass("active")}),b.on("click.lg touchend.lg",function(){var a=$(this);setTimeout(function(){(c.thumbClickable&&!c.core.lgBusy||!c.core.doCss())&&(c.core.index=a.index(),c.core.slide(c.core.index,!1,!0,!1))},50)}),c.core.$el.on("onBeforeSlide.lg.tm",function(){c.animateThumb(c.core.index)}),$(window).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){c.animateThumb(c.core.index),c.thumbOuterWidth=c.$thumbOuter.width()},200)})},b.prototype.setTranslate=function(a){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+a+"px, 0px, 0px)"})},b.prototype.animateThumb=function(a){var b=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var c;switch(this.core.s.currentPagerPosition){case"left":c=0;break;case"middle":c=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":c=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*a-1-c,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(b.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||b.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||b.css("left",-this.left+"px"),this.setTranslate(this.left)}},b.prototype.enableThumbDrag=function(){
var a=this,b=0,c=0,d=!1,e=!1,f=0;a.$thumbOuter.addClass("lg-grab"),a.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(c){a.thumbTotalWidth>a.thumbOuterWidth&&(c.preventDefault(),b=c.pageX,d=!0,a.core.$outer.scrollLeft+=1,a.core.$outer.scrollLeft-=1,a.thumbClickable=!1,a.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),$(window).on("mousemove.lg.thumb",function(g){d&&(f=a.left,e=!0,c=g.pageX,a.$thumbOuter.addClass("lg-dragging"),f-=c-b,f>a.thumbTotalWidth-a.thumbOuterWidth&&(f=a.thumbTotalWidth-a.thumbOuterWidth),f<0&&(f=0),a.setTranslate(f))}),$(window).on("mouseup.lg.thumb",function(){e?(e=!1,a.$thumbOuter.removeClass("lg-dragging"),a.left=f,Math.abs(c-b)<a.core.s.swipeThreshold&&(a.thumbClickable=!0)):a.thumbClickable=!0,d&&(d=!1,a.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})},b.prototype.enableThumbSwipe=function(){var a=this,b=0,c=0,d=!1,e=0;a.core.$outer.find(".lg-thumb").on("touchstart.lg",function(c){a.thumbTotalWidth>a.thumbOuterWidth&&(c.preventDefault(),b=c.originalEvent.targetTouches[0].pageX,a.thumbClickable=!1)}),a.core.$outer.find(".lg-thumb").on("touchmove.lg",function(f){a.thumbTotalWidth>a.thumbOuterWidth&&(f.preventDefault(),c=f.originalEvent.targetTouches[0].pageX,d=!0,a.$thumbOuter.addClass("lg-dragging"),e=a.left,e-=c-b,e>a.thumbTotalWidth-a.thumbOuterWidth&&(e=a.thumbTotalWidth-a.thumbOuterWidth),e<0&&(e=0),a.setTranslate(e))}),a.core.$outer.find(".lg-thumb").on("touchend.lg",function(){a.thumbTotalWidth>a.thumbOuterWidth&&d?(d=!1,a.$thumbOuter.removeClass("lg-dragging"),Math.abs(c-b)<a.core.s.swipeThreshold&&(a.thumbClickable=!0),a.left=e):a.thumbClickable=!0})},b.prototype.toogle=function(){var a=this;a.core.s.toogleThumb&&(a.core.$outer.addClass("lg-can-toggle"),a.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>'),a.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){a.core.$outer.toggleClass("lg-thumb-open")}))},b.prototype.thumbkeyPress=function(){var a=this;$(window).on("keydown.lg.thumb",function(b){38===b.keyCode?(b.preventDefault(),a.core.$outer.addClass("lg-thumb-open")):40===b.keyCode&&(b.preventDefault(),a.core.$outer.removeClass("lg-thumb-open"))})},b.prototype.destroy=function(){this.core.s.thumbnail&&this.core.$items.length>1&&($(window).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))},$.fn.lightGallery.modules.Thumbnail=b}(),function(){var a={fullScreen:!0},b=function(b){return this.core=$(b).data("lightGallery"),this.$el=$(b),this.core.s=$.extend({},a,this.core.s),this.init(),this};b.prototype.init=function(){var a="";if(this.core.s.fullScreen){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))return;a='<span class="lg-fullscreen lg-icon"></span>',this.core.$outer.find(".lg-toolbar").append(a),this.fullScreen()}},b.prototype.requestFullscreen=function(){var a=document.documentElement;a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()},b.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},b.prototype.fullScreen=function(){var a=this;$(document).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){a.core.$outer.toggleClass("lg-fullscreen-on")}),this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?a.exitFullscreen():a.requestFullscreen()})},b.prototype.destroy=function(){this.exitFullscreen(),$(document).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")},$.fn.lightGallery.modules.fullscreen=b}(),function(){var a={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:function(){var a=!1,b=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return b&&parseInt(b[2],10)<54&&(a=!0),a}()},b=function(b){return this.core=$(b).data("lightGallery"),this.core.s=$.extend({},a,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=$(window).width()/2,this.pageY=$(window).height()/2+$(window).scrollTop()),this};b.prototype.init=function(){var a=this,b='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';a.core.s.actualSize&&(b+='<span id="lg-actual-size" class="lg-icon"></span>'),a.core.s.useLeftForZoom?a.core.$outer.addClass("lg-use-left-for-zoom"):a.core.$outer.addClass("lg-use-transition-for-zoom"),this.core.$outer.find(".lg-toolbar").append(b),a.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(b,c,d){var e=a.core.s.enableZoomAfter+d;$("body").hasClass("lg-from-hash")&&d?e=0:$("body").removeClass("lg-from-hash"),a.zoomabletimeout=setTimeout(function(){a.core.$slide.eq(c).addClass("lg-zoomable")},e+30)});var c=1,d=function(b){var c,d,e=a.core.$outer.find(".lg-current .lg-image"),f=($(window).width()-e.prop("offsetWidth"))/2,g=($(window).height()-e.prop("offsetHeight"))/2+$(window).scrollTop();c=a.pageX-f,d=a.pageY-g;var h=(b-1)*c,i=(b-1)*d;e.css("transform","scale3d("+b+", "+b+", 1)").attr("data-scale",b),a.core.s.useLeftForZoom?(e.parent().css({left:-h+"px",top:-i+"px"}).attr("data-x",h).attr("data-y",i),$(".lg-current .custom-subitem").css({left:-h+"px",top:-i+"px"})):(e.parent().css("transform","translate3d(-"+h+"px, -"+i+"px, 0)").attr("data-x",h).attr("data-y",i),$(".lg-current .custom-subitem").css("transform","translate3d("+h+"px, "+i+"px, 0)"))},e=function(){c>1?a.core.$outer.addClass("lg-zoomed"):a.resetZoom(),c<1&&(c=1),d(c)},f=function(b,d,f,g){var h,i=d.prop("offsetWidth");h=a.core.s.dynamic?a.core.s.dynamicEl[f].width||d[0].naturalWidth||i:a.core.$items.eq(f).attr("data-width")||d[0].naturalWidth||i;var j;a.core.$outer.hasClass("lg-zoomed")?c=1:h>i&&(j=h/i,c=j||2),g?(a.pageX=$(window).width()/2,a.pageY=$(window).height()/2+$(window).scrollTop()):(a.pageX=b.pageX||b.originalEvent.targetTouches[0].pageX,a.pageY=b.pageY||b.originalEvent.targetTouches[0].pageY),e(),setTimeout(function(){a.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)},g=!1;a.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(b,c){var d=a.core.$slide.eq(c).find(".lg-image");d.on("dblclick",function(a){f(a,d,c)}),d.on("touchstart",function(a){g?(clearTimeout(g),g=null,f(a,d,c)):g=setTimeout(function(){g=null},300),a.preventDefault()})}),$(window).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){a.pageX=$(window).width()/2,a.pageY=$(window).height()/2+$(window).scrollTop(),d(c)}),$("#lg-zoom-out").on("click.lg",function(){a.core.$outer.find(".lg-current .lg-image").length&&(c-=a.core.s.scale,e())}),$("#lg-zoom-in").on("click.lg",function(){a.core.$outer.find(".lg-current .lg-image").length&&(c+=a.core.s.scale,e())}),$("#lg-actual-size").on("click.lg",function(b){f(b,a.core.$slide.eq(a.core.index).find(".lg-image"),a.core.index,!0)}),a.core.$el.on("onBeforeSlide.lg.tm",function(){c=1,a.resetZoom()}),a.core.isTouch||a.zoomDrag(),a.core.isTouch&&a.zoomSwipe()},b.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed"),this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"),this.core.$slide.find(".lg-image").removeAttr("style data-scale"),this.pageX=$(window).width()/2,this.pageY=$(window).height()/2+$(window).scrollTop()},b.prototype.zoomSwipe=function(){var a=this,b={},c={},d=!1,e=!1,f=!1;a.core.$slide.on("touchstart.lg",function(c){if(a.core.$outer.hasClass("lg-zoomed")){var d=a.core.$slide.eq(a.core.index).find(".lg-object");f=d.prop("offsetHeight")*d.attr("data-scale")>a.core.$outer.find(".lg").height(),e=d.prop("offsetWidth")*d.attr("data-scale")>a.core.$outer.find(".lg").width(),(e||f)&&(c.preventDefault(),b={x:c.originalEvent.targetTouches[0].pageX,y:c.originalEvent.targetTouches[0].pageY})}}),a.core.$slide.on("touchmove.lg",function(g){if(a.core.$outer.hasClass("lg-zoomed")){var h,i,j=a.core.$slide.eq(a.core.index).find(".lg-img-wrap");g.preventDefault(),d=!0,c={x:g.originalEvent.targetTouches[0].pageX,y:g.originalEvent.targetTouches[0].pageY},a.core.$outer.addClass("lg-zoom-dragging"),i=f?-Math.abs(j.attr("data-y"))+(c.y-b.y):-Math.abs(j.attr("data-y")),h=e?-Math.abs(j.attr("data-x"))+(c.x-b.x):-Math.abs(j.attr("data-x")),(Math.abs(c.x-b.x)>15||Math.abs(c.y-b.y)>15)&&(a.core.s.useLeftForZoom?j.css({left:h+"px",top:i+"px"}):j.css("transform","translate3d("+h+"px, "+i+"px, 0)"))}}),a.core.$slide.on("touchend.lg",function(){a.core.$outer.hasClass("lg-zoomed")&&d&&(d=!1,a.core.$outer.removeClass("lg-zoom-dragging"),a.touchendZoom(b,c,e,f))})},b.prototype.zoomDrag=function(){var a=this,b={},c={},d=!1,e=!1,f=!1,g=!1;a.core.$slide.on("mousedown.lg.zoom",function(c){var e=a.core.$slide.eq(a.core.index).find(".lg-object");g=e.prop("offsetHeight")*e.attr("data-scale")>a.core.$outer.find(".lg").height(),f=e.prop("offsetWidth")*e.attr("data-scale")>a.core.$outer.find(".lg").width(),a.core.$outer.hasClass("lg-zoomed")&&$(c.target).hasClass("lg-object")&&(f||g)&&(c.preventDefault(),b={x:c.pageX,y:c.pageY},d=!0,a.core.$outer.scrollLeft+=1,a.core.$outer.scrollLeft-=1,a.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))}),$(window).on("mousemove.lg.zoom",function(h){if(d){var i,j,k=a.core.$slide.eq(a.core.index).find(".lg-img-wrap");e=!0,c={x:h.pageX,y:h.pageY},a.core.$outer.addClass("lg-zoom-dragging"),j=g?-Math.abs(k.attr("data-y"))+(c.y-b.y):-Math.abs(k.attr("data-y")),i=f?-Math.abs(k.attr("data-x"))+(c.x-b.x):-Math.abs(k.attr("data-x")),a.core.s.useLeftForZoom?k.css({left:i+"px",top:j+"px"}):k.css("transform","translate3d("+i+"px, "+j+"px, 0)")}}),$(window).on("mouseup.lg.zoom",function(h){d&&(d=!1,a.core.$outer.removeClass("lg-zoom-dragging"),!e||b.x===c.x&&b.y===c.y||(c={x:h.pageX,y:h.pageY},a.touchendZoom(b,c,f,g)),e=!1),a.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})},b.prototype.touchendZoom=function(a,b,c,d){var e=this,f=e.core.$slide.eq(e.core.index).find(".lg-img-wrap"),g=e.core.$slide.eq(e.core.index).find(".lg-object"),h=-Math.abs(f.attr("data-x"))+(b.x-a.x),i=-Math.abs(f.attr("data-y"))+(b.y-a.y),j=(e.core.$outer.find(".lg").height()-g.prop("offsetHeight"))/2,k=Math.abs(g.prop("offsetHeight")*Math.abs(g.attr("data-scale"))-e.core.$outer.find(".lg").height()+j),l=(e.core.$outer.find(".lg").width()-g.prop("offsetWidth"))/2,m=Math.abs(g.prop("offsetWidth")*Math.abs(g.attr("data-scale"))-e.core.$outer.find(".lg").width()+l);(Math.abs(b.x-a.x)>15||Math.abs(b.y-a.y)>15)&&(d&&(i<=-k?i=-k:i>=-j&&(i=-j)),c&&(h<=-m?h=-m:h>=-l&&(h=-l)),d?f.attr("data-y",Math.abs(i)):i=-Math.abs(f.attr("data-y")),c?f.attr("data-x",Math.abs(h)):h=-Math.abs(f.attr("data-x")),e.core.s.useLeftForZoom?f.css({left:h+"px",top:i+"px"}):f.css("transform","translate3d("+h+"px, "+i+"px, 0)"))},b.prototype.destroy=function(){var a=this;a.core.$el.off(".lg.zoom"),$(window).off(".lg.zoom"),a.core.$slide.off(".lg.zoom"),a.core.$el.off(".lg.tm.zoom"),a.resetZoom(),clearTimeout(a.zoomabletimeout),a.zoomabletimeout=!1},$.fn.lightGallery.modules.zoom=b}();